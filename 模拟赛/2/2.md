# 8/2模拟赛

- [8/2模拟赛](#82模拟赛)
  - [T1](#t1)
    - [T1题意](#t1题意)
    - [T1题解](#t1题解)
    - [T1参考代码](#t1参考代码)
    - [T1赛时思路](#t1赛时思路)
  - [T2](#t2)
    - [T2题意](#t2题意)
    - [T2题解](#t2题解)
    - [T2代码](#t2代码)
    - [T2赛时思路](#t2赛时思路)

## T1

### T1题意

给定一个长度为 $n$ 的序列 $a$，有 $q$ 次询问，每次询问给定区间 $[l, r]$ ，求是否存在 $x \in [l, r]$ 满足 $a_l \le a_{l + 1} \le ... \le a_x \ge a_{x + 1} \ge ... \ge a_r$

### T1题解

寻找方式：找到第一个下跌的位置，判断以后是否一直下跌。

考虑**预处理 $p_i$ 表示从 $i$ 开始首次下降的位置， $q_i$ 表示从 $i$ 开始首次上升的位置**。

### T1参考代码

```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 5e6 + 10;
int n, m;
int a[N], p[N], q[N];
int main()
{
    freopen("hot.in", "r", stdin);
    freopen("hot.out", "w", stdout);
    scanf("%d%d", &n, &m);
    for (int i = 1; i <= n; ++i)
        scanf("%d", a + i);
    p[n] = q[n] = n + 1;
    for (int i = n - 1; i >= 1; --i)
    {
        if (a[i] > a[i + 1])
            p[i] = i;
        else
            p[i] = p[i + 1];
        if (a[i] < a[i + 1])
            q[i] = i;
        else
            q[i] = q[i + 1];
    }
    int l, r;
    for (int i = 1; i <= m; ++i)
    {
        scanf("%d%d", &l, &r);
        puts((p[l] >= r || q[p[l]] >= r)?"Y":"N");
    }
    return 0;
}
```

### T1赛时思路

- $n^3$ 暴力枚举，太慢，pass
- 对于每个区间，查找出大于两边的数的个数，时间复杂度优化至 $O(n^2)$ ，发现无法应对多个相等的峰的情况
- ST 表枚举向后 $2^l$ 个元素是否为递增/递减（最终采用，TLE $50pts$）

## T2

### T2题意

给定 $n$ 个直角管道，每个管道有一个权值（可能为负数），每两个管道个贡献为权值和（若小于 $0$ 则为 $0$），求在一个 $n \times m$ 的网格里摆放的最大贡献

### T2题解

### T2代码

### T2赛时思路
